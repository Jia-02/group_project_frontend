<h2 mat-dialog-title>è¨‚å–®æ˜ç´°</h2>

<mat-dialog-content style="height: 280px;">
  <p>è¨‚å–®ç·¨è™Ÿ:{{ data.ordersCode }}</p>
  <p>è¨‚å–®é¡å‹:{{ data.ordersType }}</p>
  @if(data.ordersType === 'A'){
  <p>æ¡Œè™Ÿ:{{ data.tableId }}</p>
  } @else if(data.ordersType === 'T'){
  <p>é¡§å®¢å§“å:{{ data.customerName }}</p>
  <p>é¡§å®¢é›»è©±:{{ data.customerPhone }}</p>
  } @else if(data.ordersType === 'D'){
  <p>é¡§å®¢å§“å:{{ data.customerName }}</p>
  <p>é¡§å®¢é›»è©±:{{ data.customerPhone }}</p>
  <p>é¡§å®¢åœ°å€:{{ data.customerAddress }}</p>
  }
  <p>è¨‚å–®æ™‚é–“:{{ data.ordersTime }}</p>
  <p>ä»˜æ¬¾æ–¹å¼:{{ data.paymentType }}</p>
  <p>ä»˜æ¬¾ç‹€æ…‹: <span [style.color]="data.paid ? 'green' : 'red'">{{ data.paid ? 'å·²ä»˜' : 'æœªä»˜' }}</span></p>
  <p>ç¸½é‡‘é¡:{{ data.totalPrice }}</p>
</mat-dialog-content>
<h3>ğŸ›’è¨‚å–®ç´°ç¯€</h3>
<mat-dialog-content>
  @for(group of data.order_detailsList; track group.orderDetailsId; let i = $index){
  <br><span>
    æ˜ç´°{{ i + 1 }}
    @if(isEditing) {
    <mat-icon aria-hidden="false" fontIcon="delete" (click)="deleteDetail(i)"></mat-icon>
    <mat-icon aria-hidden="false" fontIcon="edit" (click)="changeDetail(i)"></mat-icon>
    }

  </span>
  <span class="priceCss">åƒ¹æ ¼: NT${{ group.orderDetailsPrice }}</span>
  @for(item of group.orderDetails; track item.productId; let j = $index){
  <p>{{ item.productName }} (NT$ {{ item.productPrice }})</p>
  @if(item.detailList.length){
  <p>å®¢è£½åŒ–é¸é …</p>
  @for(detail of item.detailList; track detail.option; let k = $index){
  {{detail.option}} (+NT$ {{detail.addPrice}})
  @if(isEditing) {
  <mat-icon aria-hidden="false" fontIcon="delete" (click)="deleteOptions(i, j, k)"></mat-icon>
  <mat-icon aria-hidden="false" fontIcon="edit" (click)="changeOptions(i, j, k)"></mat-icon>
  }
  }
  }
  }
  }
  @if(isEditing){
    <br><br>
    <!-- è¦æ–°å¢å…¶ä»–é¤é»ï¼Œè¦åˆ°èœå–®ç•«é¢ -->
    <button class="bigButton">+</button>
  }
</mat-dialog-content>

<mat-dialog-actions>
  <button (click)="close()">é—œé–‰</button>
  <button (click)="checkOut()" [disabled]="isEditing">çµå¸³</button>
  <button (click)="toggleEditMode()">{{ isEditing ? 'å„²å­˜ä¿®æ”¹' : 'ä¿®æ”¹è¨‚å–®' }}</button>
</mat-dialog-actions>
