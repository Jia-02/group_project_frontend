<div class="background">

  <h2 mat-dialog-title class="diaTitle">新增訂位</h2>

  <mat-dialog-content class="dialogContent">

    <div class="formRow">
      <div class="formField">
        <label>訂位人</label>
        <input type="text" class="styledInput" [(ngModel)]="reservation.reservationName" placeholder="顧客姓名">
      </div>

      <div class="formField">
        <label>電話</label>
        <input type="text" class="styledInput" [(ngModel)]="reservation.reservationPhone"
               inputmode="numeric" pattern="[0-9]*" (input)="onPhoneInput($event)" placeholder="09xxxxxxxx">
      </div>
    </div>

    <div class="formRow">
      <div class="formField">
        <label>訂位日期</label>
        <input type="date" class="styledInput" [(ngModel)]="reservation.reservationDate" [min]="currentDate">
      </div>

      <div class="formField">
        <label>訂位時間</label>
        <select class="styledInput" [(ngModel)]="reservation.reservationTime">
          <option value="">--請選擇--</option>
          @for (time of timeList; track time) {
          <option [value]="time">{{ time }}</option>
          }
        </select>
      </div>
    </div>

    <div class="formRow">
      <div class="formField">
        <label>總人數</label>
        <select class="styledInput" [(ngModel)]="reservation.reservationCount" (change)="updateTotal()">
          <option value="''">--請選擇--</option>
          @for (data of totalPeople; track data) {
          <option [value]="data">{{ data }} 位</option>
          }
        </select>
      </div>

      <div class="formField">
        <label>桌號</label>
        <select class="styledInput" [(ngModel)]="reservation.tableId">
          <option value="">--請選擇--</option>
          @for (data of tableIdList; track data) {
          <option [value]="data">{{ data }} 桌</option>
          }
        </select>
      </div>
    </div>

    <div class="formRow">
      <div class="formField">
        <label>大人</label>
        <select class="styledInput" [(ngModel)]="reservation.reservationAdultCount" (change)="updateAdultChild()">
          <option [ngValue]="0">0</option>
          @for (data of adultList; track data) {
          <option [value]="data">{{ data }}</option>
          }
        </select>
      </div>

      <div class="formField">
        <label>小孩</label>
        <select class="styledInput" [(ngModel)]="reservation.reservationChildCount" (change)="updateAdultChild()">
          <option [ngValue]="0">0</option>
          @for (data of childList; track data) {
          <option [value]="data">{{ data }}</option>
          }
        </select>
      </div>

      <div class="formField">
        <label>兒童座椅</label>
        <select class="styledInput" [(ngModel)]="reservation.childSeat" [disabled]="reservation.reservationChildCount === 0">
          <option [ngValue]="0">無需</option>
          @for (data of childSeatList; track data) {
          <option [value]="data">{{ data }} 張</option>
          }
        </select>
      </div>
    </div>

    <div class="formRow">
      <div class="formField fullWidth">
        <label>備註</label>
        <textarea class="styledInput" [(ngModel)]="reservation.reservationNote" rows="3" placeholder="特殊需求..."></textarea>
      </div>
    </div>

  </mat-dialog-content>

  <mat-dialog-actions class="dialogActions">
    <button (click)="onNoClick()" class="dialogBtn cancelBtn">取消</button>
    <button (click)="onAddClick()" class="dialogBtn confirmBtn">確定</button>
  </mat-dialog-actions>
</div>
