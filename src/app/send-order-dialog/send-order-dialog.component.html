<h2 mat-dialog-title>é»é¤è³‡è¨Š</h2>

<mat-dialog-content>
  <p>è¨‚å–®é¡å‹:{{ data.orderType }}</p>
  @if(data.orderType === 'A'){
  <p>æ¡Œè™Ÿ:{{ data.tableId }}</p>
  } @else if(data.orderType === 'T'){
  <p>é¡§å®¢å§“å:{{ data.customerName }}</p>
  <p>é¡§å®¢é›»è©±:{{ data.customerPhone }}</p>
  } @else if(data.orderType === 'D'){
  <p>é¡§å®¢å§“å:{{ data.customerName }}</p>
  <p>é¡§å®¢é›»è©±:{{ data.customerPhone }}</p>
  <p>é¡§å®¢åœ°å€:{{ data.customerAddress }}</p>
  }
  <p>ä»˜æ¬¾æ–¹å¼:{{ data.paymentType }}</p>

  <hr>
  <h3>ğŸ›’ è¨‚å–®ç´°ç¯€</h3>

  @for(group of data.order_detailsList; track group.orderDetailsId; let i = $index){
  @for(item of group.orderDetails; track item.productId){
  <div>

    <div>

      <span>
        <button (click)="down(item, i)">-</button>
        {{ item.quantity }}
        <button (click)="up(item)">+</button>
      </span>

      <mat-icon aria-hidden="false" fontIcon="delete" (click)="deleteItem(item, i)"></mat-icon>

      <span class="positionCss">NT$ {{ item.productPrice * item.quantity + (group.orderDetailsPrice - item.productPrice
        * item.quantity) }}</span>
    </div>

    <div>
      <span>{{ item.productName }}</span>
      <br>
    </div>

    @if(item.detailList.length){
    <div>
      å®¢è£½åŒ–é¸é …:
      @for(detail of item.detailList; track detail.option){
      <span>{{ detail.option }} (+NT$ {{ detail.addPrice }})</span>
      }
    </div>
    }
  </div>
  <hr>
  }
  }

  <div>
    <span>å°è¨ˆ</span>
    <span>NT$ {{ data.totalPrice }}</span>
  </div>
</mat-dialog-content>

<mat-dialog-actions>
  <button (click)="addOrder()">åŠ é»</button>
  <button (click)="sendOut()">ç«‹åˆ»ä¸‹å–®</button>
</mat-dialog-actions>
