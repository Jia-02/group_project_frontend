<div>
  <mat-tab-group>
    @for (category of categories; track category.categoryId) {
      <mat-tab [label]="category.categoryType">
        <div>
          @if (category.products && !category.isLoadingProducts) {
            @for (item of category.products; track item.productId) {
              <div (click)="openProductDetail(category.categoryId, item.productId)">
                <span>{{ item.productName || item.settingName }}</span>
                <span>$NT{{ item.productPrice || item.settingPrice }}</span>
              </div>
            } @empty {
              <p>此分類暫無商品。</p>
            }
          } @else {
             <p>商品載入中...</p>
          }
        </div>
      </mat-tab>
    }
    </mat-tab-group>
  <button>送出購物車</button>
</div>
