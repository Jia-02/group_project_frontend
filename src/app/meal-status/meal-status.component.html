<div style="height: auto; padding-left: 5%; padding-right: 5%;">
  <div style="display: flex; align-items: center;">
    <h1>餐點狀態</h1>
    <span style="flex: 1 1 auto"></span>
    <h3 style="margin-right: 30px;">待送餐點</h3>
    <div class="divCss1">
      <span>{{count}}</span>
    </div>
  </div>
  <div style="width: 100%; height: auto; display: flex;">
    <div
      style="height: 800px; width:300px; border: 1px solid black; background-color: rgba(128,128,128,0.5); border-radius: 10px; padding: 10px;">
      <h3>準備中</h3>
      @for(order of orderList;track order){
      @if(order.status.includes("準備中")){
      <div style="background-color: white; border:1px solid black; border-radius: 5px;">
        <div style="display: flex; padding: 10px; align-items: start;">
          <div class="divCss1">
            <span>{{order.orderId}}</span>
          </div>
          <span style="flex: 1 1 auto;"></span>
          @if(order.tableId){
          <div class="divCss1">
            <span>{{order.tableId}}</span>
          </div>
          }@else if(order.orderId.includes("T")){
          <div class="divCss1">
            <span>外帶</span>
          </div>
          }@else {
          <div class="divCss1">
            <span>外送</span>
          </div>
          }
        </div>
        @for(product of order.orderProductList;track product){
        <div>
          <ul>
            @if(product.settingId > 0){
            <li>{{product.settingId}}號餐</li>
            <ul>
              @for(detail of product.orderDetail;track detail){
              @if(detail.productionStatus == "準備中"){
              <li>{{detail.productName}}&#40;
                @for(option of detail.detailList;track option){
                {{option.option}}
                @if(option.id != detail.detailList.length){
                <span>，</span>
                }
                }
                &#41;
              </li>
              }
              }
            </ul>
            }@else {
            @for(detail of product.orderDetail;track detail){
            @if(detail.productionStatus == "準備中"){
            <li>{{detail.productName}}&#40;
              @for(option of detail.detailList;track option){
              {{option.option}}
              @if(option.id != detail.detailList.length){
              <span>，</span>
              }
              }
              &#41;
            </li>
            }
            }
            }
          </ul>
        </div> <br>
        }
      </div> <br>
      }
      }
    </div>
    <span style="flex: 1 1 auto;"></span>
    <div
      style="height: 800px; width:300px; border: 1px solid black; background-color: yellow; border-radius: 10px; padding: 10px;">
      <h3>待送餐</h3>
      @for(order of orderList;track order){
      @if(order.status.includes("待送餐")){
      <div style="background-color: white; border:1px solid black; border-radius: 5px;">
        <div style="display: flex; padding: 10px; align-items: start;">
          <div class="divCss1">
            <span>{{order.orderId}}</span>
          </div>
          <span style="flex: 1 1 auto;"></span>
          @if(order.tableId){
          <div class="divCss1">
            <span>{{order.tableId}}</span>
          </div>
          }@else if(order.orderId.includes("T")){
          <div class="divCss1">
            <span>外帶</span>
          </div>
          }@else {
          <div class="divCss1">
            <span>外送</span>
          </div>
          }
        </div>
        @for(product of order.orderProductList;track product){
        <div>
          <ul>
            @if(product.settingId > 0){
            <li>{{product.settingId}}號餐</li>
            <ul style="padding: 0;">
              @for(detail of product.orderDetail;track detail){
              @if(detail.productionStatus == "待送餐"){
              <button (click)="delivery(order.orderId,product.orderDetailsId,detail.productId)">已送餐</button>
              {{detail.productName}}&#40;
              @for(option of detail.detailList;track option){
              {{option.option}}
              @if(detail.detailList.length != option.id){
              <span>，</span>
              }
              }
              <span>&#41;</span>
              }
              }
            </ul>
            }@else {
            @for(detail of product.orderDetail;track detail){
            @if(detail.productionStatus == "待送餐"){
            <button (click)="delivery(order.orderId,product.orderDetailsId,detail.productId)">已送餐</button>
            {{detail.productName}}&#40;
            @for(option of detail.detailList;track option){
            {{option.option}}
            @if(detail.detailList.length != option.id){
            <span>，</span>
            }
            }
            <span>&#41;</span>
            }
            }
            }
          </ul>
        </div> <br>
        }
      </div> <br>
      }
      }
    </div>
    <span style="flex: 1 1 auto;"></span>
    <div
      style="height: 800px; width:300px; border: 1px solid black; background-color: rgba(128,128,128,0.5); border-radius: 10px; padding: 10px;">
      <h3>已送達</h3>
      @for(order of orderList;track order){
      @if(order.status.includes("已送達")){
      <div style="background-color: white; border:1px solid black; border-radius: 5px;">
        <div style="display: flex; padding: 10px; align-items: start;">
          <div class="divCss1">
            <span>{{order.orderId}}</span>
          </div>
          <span style="flex: 1 1 auto;"></span>
          @if(order.tableId){
          <div class="divCss1">
            <span>{{order.tableId}}</span>
          </div>
          }@else if(order.orderId.includes("T")){
          <div class="divCss1">
            <span>外帶</span>
          </div>
          }@else {
          <div class="divCss1">
            <span>外送</span>
          </div>
          }
        </div>
        @for(product of order.orderProductList;track product){
        <div>
          <ul>
            @if(product.settingId > 0){
            <li>{{product.settingId}}號餐</li>
            <ul>
              @for(detail of product.orderDetail;track detail){
              @if(detail.productionStatus == "已送達"){
              <li>{{detail.productName}}&#40;
                @for(option of detail.detailList;track option){
                {{option.option}}
                @if(detail.detailList.length != option.id){
                <span>，</span>
                }
                }
                &#41;
              </li>
              }
              }
            </ul>
            }@else {
            @for(detail of product.orderDetail;track detail){
            @if(detail.productionStatus == "已送達"){
            <li>{{detail.productName}}</li> &#40;
            @for(option of detail.detailList;track option){
            {{option.option}}
            @if(detail.detailList.length != option.id){
            <span>，</span>
            }
            }
            &#41;
            }
            }
            }
          </ul>
        </div> <br>
        }
      </div> <br>
      }

      }
    </div>
  </div>
</div>
